{
  "name": "refactor_code",
  "description": "Procedure for safe code refactoring",
  "trigger": "refactor, improve, optimize, clean code, refactoring",
  "category": "coding",
  "priority": 7,
  "enabled": true,
  "steps": [
    {
      "action": "Understand the current purpose of the code",
      "expected_output": "Functionality description"
    },
    {
      "action": "Identify problems (code smells, duplication, complexity)",
      "expected_output": "Problem list"
    },
    {
      "action": "Verify that tests exist or create tests before refactoring",
      "expected_output": "Test coverage",
      "condition": "critical or complex code"
    },
    {
      "action": "Plan the refactoring in small, safe steps",
      "expected_output": "Refactoring plan"
    },
    {
      "action": "Apply one change at a time",
      "expected_output": "Modified code"
    },
    {
      "action": "Verify that the behavior remains unchanged",
      "expected_output": "Validation"
    },
    {
      "action": "Document the changes made",
      "expected_output": "Changelog"
    }
  ],
  "metadata": {
    "author": "system",
    "version": "1.0"
  }
}
